{
  "extends": "next/core-web-vitals",
  "rules": {
    "@next/next/no-img-element": "off",
    "react/no-unescaped-entities": "off",
    "no-restricted-imports": [
      "error",
      {
        "paths": [
          {
            "name": "@/app/lib/supabase/client",
            "message": "Do not use the browser Supabase client in server/API code. Use admin or server client instead."
          }
        ],
        "patterns": [
          {
            "group": ["**/lib/supabase/client"],
            "message": "Server code must not import browser-only Supabase client. Use createAdminClient() for background jobs or createClient() from server.ts for SSR."
          }
        ]
      }
    ]
  },
  "overrides": [
    {
      "files": [
        "app/api/**/*.ts",
        "app/api/**/*.tsx",
        "app/**/route.ts",
        "app/**/route.tsx"
      ],
      "rules": {
        "no-restricted-imports": [
          "error",
          {
            "paths": [
              {
                "name": "@/app/lib/supabase/client",
                "message": "API routes must not use browser Supabase client. Use createAdminClient() from admin.ts or createClient() from server.ts."
              }
            ]
          }
        ]
      }
    }
  ]
}
