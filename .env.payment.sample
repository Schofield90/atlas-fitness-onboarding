# =====================================================
# PAYMENT SYSTEM ENVIRONMENT VARIABLES
# Copy this to .env.local and fill in your values
# =====================================================

# =====================================================
# STRIPE CONFIGURATION
# =====================================================

# Platform Stripe Account (for SaaS billing)
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_51... # Use sk_live_ in production
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_51... # Use pk_live_ in production

# Webhook signing secret for platform account
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Connect Configuration
# Get from: https://dashboard.stripe.com/settings/applications
STRIPE_CONNECT_CLIENT_ID=ca_... # Your Connect application ID
STRIPE_CONNECT_WEBHOOK_SECRET=whsec_... # Separate webhook for Connect events

# =====================================================
# GOCARDLESS CONFIGURATION
# =====================================================

# Environment: sandbox or live
GOCARDLESS_ENVIRONMENT=sandbox

# OAuth Application Credentials
# Get from: https://manage.gocardless.com/developers/applications
GOCARDLESS_CLIENT_ID=...
GOCARDLESS_CLIENT_SECRET=...

# Your app's redirect URI (must match GoCardless app settings)
GOCARDLESS_REDIRECT_URI=https://your-domain.com/api/connect/gocardless/callback

# Access token for your own GoCardless account (optional, for platform fees)
GOCARDLESS_ACCESS_TOKEN=...

# Webhook secret for signature verification
# Get from: https://manage.gocardless.com/developers/webhook-endpoints
GOCARDLESS_WEBHOOK_SECRET=...

# =====================================================
# PLATFORM CONFIGURATION
# =====================================================

# Platform fee in basis points (300 = 3%)
PLATFORM_FEE_BPS=300

# Application URL (for redirects)
NEXT_PUBLIC_APP_URL=https://your-domain.com

# Database encryption key (32 characters)
# Generate with: openssl rand -hex 16
DATABASE_ENCRYPTION_KEY=...

# =====================================================
# SUPABASE CONFIGURATION (if not already set)
# =====================================================

NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# =====================================================
# FEATURE FLAGS
# =====================================================

# Enable payment features
ENABLE_STRIPE_CONNECT=true
ENABLE_GOCARDLESS=true
ENABLE_PLATFORM_FEES=true

# Testing mode (uses test keys even in production)
PAYMENT_TEST_MODE=false

# =====================================================
# MONITORING & ALERTING
# =====================================================

# Webhook failure notifications
WEBHOOK_FAILURE_EMAIL=ops@your-domain.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...

# =====================================================
# RATE LIMITING
# =====================================================

# Redis URL for rate limiting (optional)
REDIS_URL=redis://localhost:6379

# Rate limits (requests per minute)
PAYMENT_API_RATE_LIMIT=60
WEBHOOK_RATE_LIMIT=1000